<!DOCTYPE html>
<html lang="en" data-theme="auto">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{% block title %}Harshit's Blog{% endblock %}</title>
  <meta name="description"
    content="{% block description %}Tech insights, code adventures, and system thinking by Harshit Vijay{% endblock %}" />

  <!-- Canonical & SEO -->
  {% if canonical_url %}
  <link rel="canonical" href="{{ canonical_url }}">{% endif %}
  <meta name="author" content="Harshit Vijay" />
  <meta name="theme-color" content="#0f172a" media="(prefers-color-scheme: dark)">
  <meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)">

  <!-- OpenGraph / Twitter -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="{% block og_title %}{{ self.title()|striptags }}{% endblock %}">
  <meta property="og:description" content="{% block og_description %}{{ self.description()|striptags }}{% endblock %}">
  {% if og_image %}
  <meta property="og:image" content="{{ og_image }}">{% endif %}
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="{{ self.og_title()|striptags }}">
  <meta name="twitter:description" content="{{ self.og_description()|striptags }}">
  {% if og_image %}
  <meta name="twitter:image" content="{{ og_image }}">{% endif %}

  <!-- Favicon (uncomment when ready) -->
  <!-- <link rel="icon" type="image/png" href="/static/favicon.png"> -->

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Fira+Code:wght@400;500;600&display=swap"
    rel="stylesheet">

  <!-- Prism.js Syntax Highlighting -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet"
    media="(prefers-color-scheme: light)" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet"
    media="(prefers-color-scheme: dark)" />

  <link rel="stylesheet" href="/static/base.css">


  {% block styles %}{% endblock %}
</head>

<body>
  <!-- Scrim for mobile drawer -->
  <div class="scrim" id="scrim" aria-hidden="true"></div>

  <header class="header" role="banner">
    <div class="container header-content">
      <a href="/BLOGS/" class="brand" aria-label="Harshit's Blog home">
        <span class="brand-logo">HV</span>
        <span class="brand-text">Harshit's Blog</span>
      </a>

      <div class="search-wrap" role="search" aria-label="Site search">
        <span class="search-icon">ðŸ”Ž</span>
        <input id="search-input" class="search-input" type="search" placeholder="Search postsâ€¦" autocomplete="off" />
      </div>

      <nav class="nav" aria-label="Primary">
        <a href="/BLOGS/">Home</a>
        <a href="/BLOGS/about.html">About</a>
        <a href="https://github.com/coder-Harshit" target="_blank" rel="noopener">GitHub</a>
        <a href="https://linkedin.com/in/harshit-vijay-coderv" target="_blank" rel="noopener">LinkedIn</a>
        <button class="icon-btn" id="theme-toggle" aria-label="Toggle theme" title="Toggle theme">ðŸŒ“</button>
      </nav>

      <div class="hamburger">
        <button id="open-drawer" aria-label="Open menu">â˜°</button>
      </div>
    </div>
  </header>

  <!-- Mobile Drawer -->
  <aside class="drawer" id="drawer" aria-hidden="true" aria-label="Mobile Navigation">
    <div class="drawer-header">
      <strong>Menu</strong>
      <button class="icon-btn" id="close-drawer" aria-label="Close menu">âœ•</button>
    </div>
    <div class="drawer-nav" role="navigation">
      <a href="/BLOGS/">Home</a>
      <a href="/BLOGS/about.html">About</a>
      <a href="https://github.com/coder-Harshit" target="_blank" rel="noopener">GitHub</a>
      <a href="https://linkedin.com/in/harshit-vijay-coderv" target="_blank" rel="noopener">LinkedIn</a>
      <div style="margin-top:.5rem">
        <input id="drawer-search" class="search-input" type="search" placeholder="Search postsâ€¦" autocomplete="off" />
      </div>
      <button class="icon-btn" id="drawer-theme" style="margin-top:.5rem" aria-label="Toggle theme">ðŸŒ“ Theme</button>
    </div>
    <div class="drawer-footer">Â© {{ current_year or 2025 }} Harshit Vijay</div>
  </aside>

  <main class="main" role="main">
    <div class="container">{% block content %}{% endblock %}</div>
  </main>

  <footer class="footer" role="contentinfo">
    <div class="container footer-grid">
      <div>
        <strong>Harshit's Blog</strong>
        <p style="margin:.5rem 0 0;color:var(--text-tertiary)">Building the future, one line of code at a time. ðŸš€</p>
      </div>
      <div>
        <div class="socials">
          <a class="chip" href="/BLOGS/">Home</a>
          <a class="chip" href="/BLOGS/about.html">About</a>
          <a class="chip" href="https://github.com/coder-Harshit" target="_blank" rel="noopener">GitHub</a>
          <a class="chip" href="https://linkedin.com/in/harshit-vijay-coderv" target="_blank"
            rel="noopener">LinkedIn</a>
        </div>
      </div>
      <div>
        <small style="color:var(--text-tertiary)">Â© {{ current_year or 2025 }} Harshit Vijay</small>
      </div>
    </div>
  </footer>

  <button id="backToTop" aria-label="Back to top">â†‘</button>

  <!-- Prism.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-yaml.min.js"></script>

  <script>
    // ===== Theme toggle =====
    const themeToggle = document.getElementById('theme-toggle');
    const drawerTheme = document.getElementById('drawer-theme');
    const htmlEl = document.documentElement;
    const savedTheme = localStorage.getItem('theme') || 'auto';
    htmlEl.setAttribute('data-theme', savedTheme);

    function cycleTheme(btn) {
      const current = htmlEl.getAttribute('data-theme');
      let next;
      if (current === 'light') { next = 'dark'; }
      else if (current === 'dark') { next = 'auto'; }
      else { next = 'light'; }
      htmlEl.setAttribute('data-theme', next);
      localStorage.setItem('theme', next);
      btn && (btn.textContent = next === 'light' ? 'ðŸŒ™' : next === 'dark' ? 'â˜€ï¸' : 'ðŸŒ“');
    }
    [themeToggle, drawerTheme].forEach(btn => {
      if (btn) {
        const t = savedTheme === 'light' ? 'ðŸŒ™' : savedTheme === 'dark' ? 'â˜€ï¸' : 'ðŸŒ“';
        btn.textContent = btn.id === 'drawer-theme' ? (t + ' Theme') : t;
        btn.addEventListener('click', () => cycleTheme(btn));
      }
    });

    // ===== Mobile drawer =====
    const drawer = document.getElementById('drawer');
    const scrim = document.getElementById('scrim');
    const openBtn = document.getElementById('open-drawer');
    const closeBtn = document.getElementById('close-drawer');
    const toggleDrawer = (open) => {
      drawer.classList.toggle('open', open);
      drawer.setAttribute('aria-hidden', String(!open));
      scrim.classList.toggle('show', open);
      document.body.style.overflow = open ? 'hidden' : '';
    };
    openBtn && openBtn.addEventListener('click', () => toggleDrawer(true));
    closeBtn && closeBtn.addEventListener('click', () => toggleDrawer(false));
    scrim && scrim.addEventListener('click', () => toggleDrawer(false));

    // ===== Back to top =====
    const backBtn = document.getElementById('backToTop');
    window.addEventListener('scroll', () => {
      backBtn.style.display = window.scrollY > 600 ? 'block' : 'none';
    });
    backBtn.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));

    // ===== Client-side search hook (index page wires this up) =====
    window.__globalSearchInputs = ['search-input', 'drawer-search']
      .map(id => document.getElementById(id))
      .filter(Boolean);
  </script>

  {% block scripts %}{% endblock %}
</body>

</html>